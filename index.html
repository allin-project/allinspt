<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Sports ì˜ˆì¸¡ ê²Œì„ - í•œêµ­ ìŠ¤í¬ì¸  ì‹¤ì‹œê°„ ì˜ˆì¸¡</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Kë¦¬ê·¸, KBO, KBL, Vë¦¬ê·¸ ì‹¤ì‹œê°„ ìŠ¤í¬ì¸  ì˜ˆì¸¡ ê²Œì„. í¬ì¸íŠ¸ë¡œ ì•ˆì „í•˜ê²Œ ì¦ê¸°ëŠ” í•œêµ­ ìŠ¤í¬ì¸  ì˜ˆì¸¡ í”Œë«í¼">
    <meta name="keywords" content="Kë¦¬ê·¸, KBO, KBL, Vë¦¬ê·¸, ìŠ¤í¬ì¸ ì˜ˆì¸¡, í•œêµ­ìŠ¤í¬ì¸ , ì¶•êµ¬ì˜ˆì¸¡, ì•¼êµ¬ì˜ˆì¸¡">
    <meta name="author" content="K-Sports Game">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="K-Sports ì˜ˆì¸¡ ê²Œì„">
    <meta property="og:description" content="í•œêµ­ ìŠ¤í¬ì¸  ì‹¤ì‹œê°„ ì˜ˆì¸¡ ê²Œì„ - Kë¦¬ê·¸, KBO, KBL, Vë¦¬ê·¸">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/667eea/ffffff?text=K-Sports+Game">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="K-Sports">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš½</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body { 
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .gradient-bg { 
            background: var(--primary-gradient);
        }
        
        .card-hover { 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover { 
            transform: translateY(-4px); 
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .pulse-animation { 
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .grid-responsive {
                grid-template-columns: 1fr;
            }
            
            .text-responsive {
                font-size: 1.5rem;
            }
        }
        
        /* Accessibility improvements */
        .focus-visible:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        /* Performance optimizations */
        .will-change-transform {
            will-change: transform;
        }
        
        .gpu-accelerated {
            transform: translateZ(0);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded-lg z-50">
        ë©”ì¸ ì½˜í…ì¸ ë¡œ ê±´ë„ˆë›°ê¸°
    </a>

    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg sticky top-0 z-40" role="banner">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center flex-wrap gap-4">
                <div class="flex items-center space-x-3">
                    <div class="text-3xl" role="img" aria-label="ì¶•êµ¬ê³µ">âš½</div>
                    <h1 class="text-2xl md:text-3xl font-bold">K-Sports ì˜ˆì¸¡ ê²Œì„</h1>
                </div>
                <div class="flex items-center space-x-4 md:space-x-6">
                    <div class="bg-white/20 px-3 md:px-4 py-2 rounded-lg">
                        <span class="text-sm opacity-90">ë³´ìœ  í¬ì¸íŠ¸</span>
                        <div class="text-lg md:text-xl font-bold" id="userPoints">10,000P</div>
                    </div>
                    <div class="bg-white/20 px-3 md:px-4 py-2 rounded-lg">
                        <span class="text-sm opacity-90">ì˜ˆì¸¡ ì„±ê³µë¥ </span>
                        <div class="text-lg md:text-xl font-bold" id="winRate">0%</div>
                    </div>
                    <button onclick="shareGame()" class="bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors no-print" aria-label="ê²Œì„ ê³µìœ í•˜ê¸°">
                        ğŸ“¤
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content" class="container mx-auto px-4 py-8">
        <!-- GitHub Pages ë°°í¬ ì„±ê³µ ì•Œë¦¼ -->
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6" role="alert">
            <div class="flex items-center">
                <span class="text-xl mr-2">ğŸ‰</span>
                <div>
                    <strong class="font-bold">GitHub Pages ë°°í¬ ì„±ê³µ!</strong>
                    <span class="block sm:inline"> ì´ì œ ì „ ì„¸ê³„ ì–´ë””ì„œë‚˜ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.</span>
                </div>
            </div>
        </div>

        <!-- Stats Dashboard -->
        <section class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-8" aria-label="í†µê³„ ëŒ€ì‹œë³´ë“œ">
            <div class="bg-white rounded-xl p-4 md:p-6 shadow-md card-hover fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">ì´ ì˜ˆì¸¡</p>
                        <p class="text-xl md:text-2xl font-bold text-blue-600" id="totalBets">0</p>
                    </div>
                    <div class="text-2xl md:text-3xl" role="img" aria-label="í†µê³„">ğŸ“Š</div>
                </div>
            </div>
            <div class="bg-white rounded-xl p-4 md:p-6 shadow-md card-hover fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">ì„±ê³µí•œ ì˜ˆì¸¡</p>
                        <p class="text-xl md:text-2xl font-bold text-green-600" id="wonBets">0</p>
                    </div>
                    <div class="text-2xl md:text-3xl" role="img" aria-label="ì„±ê³µ">âœ…</div>
                </div>
            </div>
            <div class="bg-white rounded-xl p-4 md:p-6 shadow-md card-hover fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">ì´ ìˆ˜ìµ</p>
                        <p class="text-xl md:text-2xl font-bold text-purple-600" id="totalProfit">0P</p>
                    </div>
                    <div class="text-2xl md:text-3xl" role="img" aria-label="ìˆ˜ìµ">ğŸ’°</div>
                </div>
            </div>
            <div class="bg-white rounded-xl p-4 md:p-6 shadow-md card-hover fade-in">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">í˜„ì¬ ë­í‚¹</p>
                        <p class="text-xl md:text-2xl font-bold text-orange-600" id="userRank">ë¸Œë¡ ì¦ˆ</p>
                    </div>
                    <div class="text-2xl md:text-3xl" role="img" aria-label="ë­í‚¹">ğŸ†</div>
                </div>
            </div>
        </section>

        <!-- Live Games Section -->
        <section class="bg-white rounded-xl shadow-lg p-4 md:p-6 mb-8 fade-in">
            <div class="flex items-center justify-between mb-6 flex-wrap gap-4">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 flex items-center">
                    <span class="text-red-500 pulse-animation mr-2" role="img" aria-label="ë¼ì´ë¸Œ">ğŸ”´</span>
                    ì‹¤ì‹œê°„ ê²½ê¸°
                    <span id="dataStatus" class="ml-3 text-sm bg-green-100 text-green-600 px-2 py-1 rounded-full">
                        GitHub Pages ë°°í¬ë¨
                    </span>
                </h2>
                <div class="flex items-center space-x-3">
                    <span id="lastUpdate" class="text-sm text-gray-500 hidden md:inline"></span>
                    <button onclick="refreshGames()" 
                            class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors focus-visible"
                            aria-label="ê²½ê¸° ë°ì´í„° ìƒˆë¡œê³ ì¹¨">
                        ğŸ”„ ìƒˆë¡œê³ ì¹¨
                    </button>
                </div>
            </div>
            <div id="liveGames" class="space-y-4" role="region" aria-label="ì‹¤ì‹œê°„ ê²½ê¸° ëª©ë¡">
                <!-- Live games will be populated here -->
            </div>
        </section>

        <!-- Upcoming Games Section -->
        <section class="bg-white rounded-xl shadow-lg p-4 md:p-6 mb-8 fade-in">
            <h2 class="text-xl md:text-2xl font-bold text-gray-800 mb-6 flex items-center">
                <span class="mr-2" role="img" aria-label="ì¼ì •">ğŸ“…</span>
                ì˜ˆì •ëœ ê²½ê¸°
            </h2>
            <div id="upcomingGames" class="space-y-4" role="region" aria-label="ì˜ˆì •ëœ ê²½ê¸° ëª©ë¡">
                <!-- Upcoming games will be populated here -->
            </div>
        </section>

        <!-- My Bets Section -->
        <section class="bg-white rounded-xl shadow-lg p-4 md:p-6 fade-in">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-2" role="img" aria-label="ë‚´ì—­">ğŸ“‹</span>
                    ë‚´ ì˜ˆì¸¡ ë‚´ì—­
                </h2>
                <button onclick="exportBets()" class="text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-lg transition-colors no-print">
                    ë‚´ë³´ë‚´ê¸°
                </button>
            </div>
            <div id="myBets" class="space-y-3" role="region" aria-label="ë‚´ ì˜ˆì¸¡ ë‚´ì—­">
                <p class="text-gray-500 text-center py-8">ì•„ì§ ì˜ˆì¸¡í•œ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16 no-print" role="contentinfo">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-bold mb-4">K-Sports ì˜ˆì¸¡ ê²Œì„</h3>
                    <p class="text-gray-300 text-sm">í•œêµ­ ìŠ¤í¬ì¸  ì‹¤ì‹œê°„ ì˜ˆì¸¡ í”Œë«í¼</p>
                    <p class="text-gray-400 text-xs mt-2">GitHub Pagesë¡œ ë°°í¬ë¨</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-3">ì§€ì› ìŠ¤í¬ì¸ </h4>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li>âš½ Kë¦¬ê·¸1 (ì¶•êµ¬)</li>
                        <li>âš¾ KBO (ì•¼êµ¬)</li>
                        <li>ğŸ€ KBL (ë†êµ¬)</li>
                        <li>ğŸ Vë¦¬ê·¸ (ë°°êµ¬)</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-3">ë°°í¬ ì •ë³´</h4>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li>âœ… GitHub Pages</li>
                        <li>ğŸŒ ì „ ì„¸ê³„ ì ‘ì† ê°€ëŠ¥</li>
                        <li>ğŸ“± ëª¨ë°”ì¼ ìµœì í™”</li>
                        <li>ğŸ”’ HTTPS ë³´ì•ˆ</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-4 text-center text-sm text-gray-400">
                <p>&copy; 2024 K-Sports ì˜ˆì¸¡ ê²Œì„. GitHub Pagesë¡œ ë°°í¬ë¨.</p>
                <p class="mt-1">ë¬´ë£Œ í˜¸ìŠ¤íŒ…ìœ¼ë¡œ ì „ ì„¸ê³„ ì„œë¹„ìŠ¤ ì¤‘!</p>
            </div>
        </div>
    </footer>

    <!-- Betting Modal -->
    <div id="bettingModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="bg-white rounded-xl p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-xl font-bold">ì˜ˆì¸¡í•˜ê¸°</h3>
                <button onclick="closeBettingModal()" class="text-gray-500 hover:text-gray-700 p-1" aria-label="ëª¨ë‹¬ ë‹«ê¸°">âœ•</button>
            </div>
            <div id="modalContent">
                <!-- Modal content will be populated here -->
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed top-4 right-4 bg-white border-l-4 border-blue-500 rounded-lg shadow-lg p-4 hidden z-50 max-w-sm">
        <div class="flex items-center">
            <div class="flex-shrink-0">
                <span id="toastIcon">â„¹ï¸</span>
            </div>
            <div class="ml-3">
                <p id="toastMessage" class="text-sm font-medium text-gray-900"></p>
            </div>
            <button onclick="hideToast()" class="ml-auto text-gray-400 hover:text-gray-600">
                <span class="sr-only">ë‹«ê¸°</span>
                âœ•
            </button>
        </div>
    </div>

    <script>
        // Enhanced game state with persistence
        let gameState = {
            userPoints: 10000,
            totalBets: 0,
            wonBets: 0,
            totalProfit: 0,
            myBets: [],
            userRank: 'ë¸Œë¡ ì¦ˆ',
            lastSaved: null
        };

        // Real sports data storage
        let realGamesData = [];
        let lastUpdateTime = null;

        // Korean sports teams mapping
        const KOREAN_TEAMS = {
            kleague: [
                'FCì„œìš¸', 'ìˆ˜ì›FC', 'ìš¸ì‚°HD', 'í¬í•­ìŠ¤í‹¸ëŸ¬ìŠ¤', 'ì „ë¶í˜„ëŒ€', 'ê´‘ì£¼FC',
                'ëŒ€êµ¬FC', 'ì œì£¼ìœ ë‚˜ì´í‹°ë“œ', 'ì¸ì²œìœ ë‚˜ì´í‹°ë“œ', 'ê°•ì›FC', 'ê¹€ì²œìƒë¬´', 'ì„œìš¸ì´ëœë“œ'
            ],
            kbo: [
                'LGíŠ¸ìœˆìŠ¤', 'ë‘ì‚°ë² ì–´ìŠ¤', 'KTìœ„ì¦ˆ', 'SSGëœë”ìŠ¤', 'NCë‹¤ì´ë…¸ìŠ¤', 
                'ì‚¼ì„±ë¼ì´ì˜¨ì¦ˆ', 'KIAíƒ€ì´ê±°ì¦ˆ', 'ë¡¯ë°ìì´ì–¸ì¸ ', 'í•œí™”ì´ê¸€ìŠ¤', 'ktìœ„ì¦ˆ'
            ],
            kbl: [
                'ì„œìš¸SK', 'ë¶€ì‚°KT', 'ì•ˆì–‘KGC', 'ì°½ì›LG', 'ìš¸ì‚°í˜„ëŒ€ëª¨ë¹„ìŠ¤', 
                'ê³ ì–‘ì˜¤ë¦¬ì˜¨', 'ì›ì£¼DB', 'ì „ì£¼KCC', 'ìˆ˜ì›KT', 'ì„œìš¸ì‚¼ì„±'
            ],
            vleague: [
                'í˜„ëŒ€ìºí”¼íƒˆ', 'OKê¸ˆìœµê·¸ë£¹', 'ëŒ€í•œí•­ê³µ', 'ì‚¼ì„±í™”ì¬', 'KBì†í•´ë³´í—˜',
                'ìš°ë¦¬ì¹´ë“œ', 'í•œêµ­ì „ë ¥', 'GSì¹¼í…ìŠ¤', 'í¥êµ­ìƒëª…', 'IBKê¸°ì—…ì€í–‰'
            ]
        };

        // Load saved game state
        function loadGameState() {
            try {
                const saved = localStorage.getItem('k-sports-game-state');
                if (saved) {
                    const parsedState = JSON.parse(saved);
                    gameState = { ...gameState, ...parsedState };
                    console.log('ê²Œì„ ìƒíƒœ ë¡œë“œ ì™„ë£Œ');
                }
            } catch (error) {
                console.error('ê²Œì„ ìƒíƒœ ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }

        // Save game state
        function saveGameState() {
            try {
                gameState.lastSaved = new Date().toISOString();
                localStorage.setItem('k-sports-game-state', JSON.stringify(gameState));
            } catch (error) {
                console.error('ê²Œì„ ìƒíƒœ ì €ì¥ ì‹¤íŒ¨:', error);
                showToast('ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        // Enhanced toast notification system
        function showToast(message, type = 'info', duration = 3000) {
            const toast = document.getElementById('toast');
            const icon = document.getElementById('toastIcon');
            const messageEl = document.getElementById('toastMessage');
            
            const icons = {
                info: 'â„¹ï¸',
                success: 'âœ…',
                error: 'âŒ',
                warning: 'âš ï¸'
            };
            
            const colors = {
                info: 'border-blue-500',
                success: 'border-green-500',
                error: 'border-red-500',
                warning: 'border-yellow-500'
            };
            
            icon.textContent = icons[type] || icons.info;
            messageEl.textContent = message;
            toast.className = `fixed top-4 right-4 bg-white ${colors[type] || colors.info} rounded-lg shadow-lg p-4 z-50 max-w-sm`;
            toast.classList.remove('hidden');
            
            setTimeout(() => {
                toast.classList.add('hidden');
            }, duration);
        }

        function hideToast() {
            document.getElementById('toast').classList.add('hidden');
        }

        // Generate realistic games
        function generateRealisticGames(sport, teams, hasDraw) {
            const games = [];
            const today = new Date();
            
            // Generate today's games
            for (let i = 0; i < Math.floor(Math.random() * 4) + 2; i++) {
                const homeTeam = teams[Math.floor(Math.random() * teams.length)];
                let awayTeam;
                do {
                    awayTeam = teams[Math.floor(Math.random() * teams.length)];
                } while (awayTeam === homeTeam);

                const isLive = Math.random() < 0.3;
                const gameTime = new Date(today);
                gameTime.setHours(18 + Math.floor(Math.random() * 4), Math.floor(Math.random() * 60));

                const homeStrength = Math.random();
                const awayStrength = Math.random();
                const total = homeStrength + awayStrength;
                
                const homeOdds = Math.round((2 / (homeStrength / total)) * 10) / 10;
                const awayOdds = Math.round((2 / (awayStrength / total)) * 10) / 10;
                const drawOdds = hasDraw ? Math.round((3.5 + Math.random() * 1.5) * 10) / 10 : null;

                games.push({
                    id: Date.now() + i + Math.random() * 1000,
                    sport: sport,
                    homeTeam: homeTeam,
                    awayTeam: awayTeam,
                    homeOdds: Math.max(1.1, Math.min(homeOdds, 10.0)),
                    awayOdds: Math.max(1.1, Math.min(awayOdds, 10.0)),
                    drawOdds: drawOdds,
                    status: isLive ? 'live' : 'upcoming',
                    time: isLive ? `${Math.floor(Math.random() * 90) + 1}ë¶„` : gameTime.toLocaleTimeString('ko-KR', {hour: '2-digit', minute: '2-digit'}),
                    date: 'ì˜¤ëŠ˜',
                    homeScore: isLive ? Math.floor(Math.random() * 3) : null,
                    awayScore: isLive ? Math.floor(Math.random() * 3) : null,
                    venue: `${homeTeam} í™ˆêµ¬ì¥`
                });
            }

            return games;
        }

        // Generate sample data
        function generateSampleData() {
            const allGames = [
                ...generateRealisticGames('âš½ Kë¦¬ê·¸1', KOREAN_TEAMS.kleague, true),
                ...generateRealisticGames('âš¾ KBO', KOREAN_TEAMS.kbo, false),
                ...generateRealisticGames('ğŸ€ KBL', KOREAN_TEAMS.kbl, false),
                ...generateRealisticGames('ğŸ Vë¦¬ê·¸', KOREAN_TEAMS.vleague, false)
            ];
            
            realGamesData = allGames;
            return allGames;
        }

        // Render live games
        function renderLiveGames() {
            const liveGames = realGamesData.filter(game => game.status === 'live');
            const container = document.getElementById('liveGames');
            
            if (liveGames.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-4xl mb-4">â°</div>
                        <p class="text-gray-500">í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p class="text-sm text-gray-400 mt-2">ê³§ ìƒˆë¡œìš´ ê²½ê¸°ê°€ ì‹œì‘ë©ë‹ˆë‹¤!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = liveGames.map(game => `
                <article class="border rounded-lg p-4 card-hover" role="article">
                    <div class="flex justify-between items-center mb-3">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium text-blue-600">${game.sport}</span>
                            <span class="bg-red-100 text-red-600 px-2 py-1 rounded text-xs font-medium pulse-animation">
                                LIVE ${game.time}
                            </span>
                        </div>
                        <div class="text-lg font-bold">${game.homeScore || 0} : ${game.awayScore || 0}</div>
                    </div>
                    <div class="grid grid-cols-${game.sport.includes('âš½') ? '3' : '2'} gap-3">
                        <button onclick="openBettingModal(${game.id}, 'home')" 
                                class="bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg p-3 transition-colors">
                            <div class="font-medium text-gray-800">${game.homeTeam}</div>
                            <div class="text-blue-600 font-bold">${game.homeOdds}</div>
                        </button>
                        ${game.sport.includes('âš½') ? `
                        <button onclick="openBettingModal(${game.id}, 'draw')" 
                                class="bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg p-3 transition-colors">
                            <div class="font-medium text-gray-800">ë¬´ìŠ¹ë¶€</div>
                            <div class="text-gray-600 font-bold">${game.drawOdds}</div>
                        </button>
                        ` : ''}
                        <button onclick="openBettingModal(${game.id}, 'away')" 
                                class="bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg p-3 transition-colors">
                            <div class="font-medium text-gray-800">${game.awayTeam}</div>
                            <div class="text-red-600 font-bold">${game.awayOdds}</div>
                        </button>
                    </div>
                </article>
            `).join('');
        }

        function renderUpcomingGames() {
            const upcomingGames = realGamesData.filter(game => game.status === 'upcoming');
            const container = document.getElementById('upcomingGames');
            
            if (upcomingGames.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-4xl mb-4">ğŸ“…</div>
                        <p class="text-gray-500">ì˜ˆì •ëœ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = upcomingGames.map(game => `
                <article class="border rounded-lg p-4 card-hover" role="article">
                    <div class="flex justify-between items-center mb-3">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium text-blue-600">${game.sport}</span>
                            <span class="bg-green-100 text-green-600 px-2 py-1 rounded text-xs font-medium">
                                ${game.date} ${game.time}
                            </span>
                        </div>
                    </div>
                    <div class="grid grid-cols-${game.sport.includes('âš½') ? '3' : '2'} gap-3">
                        <button onclick="openBettingModal(${game.id}, 'home')" 
                                class="bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg p-3 transition-colors">
                            <div class="font-medium text-gray-800">${game.homeTeam}</div>
                            <div class="text-blue-600 font-bold">${game.homeOdds}</div>
                        </button>
                        ${game.sport.includes('âš½') ? `
                        <button onclick="openBettingModal(${game.id}, 'draw')" 
                                class="bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg p-3 transition-colors">
                            <div class="font-medium text-gray-800">ë¬´ìŠ¹ë¶€</div>
                            <div class="text-gray-600 font-bold">${game.drawOdds}</div>
                        </button>
                        ` : ''}
                        <button onclick="openBettingModal(${game.id}, 'away')" 
                                class="bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg p-3 transition-colors">
                            <div class="font-medium text-gray-800">${game.awayTeam}</div>
                            <div class="text-red-600 font-bold">${game.awayOdds}</div>
                        </button>
                    </div>
                </article>
            `).join('');
        }

        // Betting modal
        function openBettingModal(gameId, betType) {
            const game = realGamesData.find(g => g.id === gameId);
            if (!game) return;

            let teamName, odds;
            if (betType === 'home') {
                teamName = game.homeTeam;
                odds = game.homeOdds;
            } else if (betType === 'away') {
                teamName = game.awayTeam;
                odds = game.awayOdds;
            } else {
                teamName = 'ë¬´ìŠ¹ë¶€';
                odds = game.drawOdds;
            }

            document.getElementById('modalContent').innerHTML = `
                <div class="space-y-4">
                    <div class="text-center">
                        <div class="text-lg font-medium text-gray-800">${game.sport}</div>
                        <div class="text-sm text-gray-600">${game.homeTeam} vs ${game.awayTeam}</div>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg text-center">
                        <div class="text-lg font-bold text-blue-600">${teamName}</div>
                        <div class="text-2xl font-bold text-blue-800">${odds}ë°°</div>
                    </div>
                    <div>
                        <label for="betAmount" class="block text-sm font-medium text-gray-700 mb-2">ë°°íŒ… í¬ì¸íŠ¸</label>
                        <input type="number" id="betAmount" min="100" max="${gameState.userPoints}" step="100" 
                               class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                               placeholder="ìµœì†Œ 100P">
                        <div class="text-xs text-gray-500 mt-1">ë³´ìœ  í¬ì¸íŠ¸: ${gameState.userPoints.toLocaleString()}P</div>
                    </div>
                    <div class="flex space-x-3">
                        <button onclick="closeBettingModal()" 
                                class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-lg transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button onclick="placeBet(${gameId}, '${betType}', ${odds})" 
                                class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors">
                            ì˜ˆì¸¡í•˜ê¸°
                        </button>
                    </div>
                </div>
            `;

            document.getElementById('bettingModal').classList.remove('hidden');
            document.getElementById('bettingModal').classList.add('flex');
        }

        function closeBettingModal() {
            document.getElementById('bettingModal').classList.add('hidden');
            document.getElementById('bettingModal').classList.remove('flex');
        }

        function placeBet(gameId, betType, odds) {
            const amount = parseInt(document.getElementById('betAmount').value);
            
            if (!amount || amount < 100) {
                showToast('ìµœì†Œ 100P ì´ìƒ ë°°íŒ…í•´ì£¼ì„¸ìš”.', 'warning');
                return;
            }
            
            if (amount > gameState.userPoints) {
                showToast('ë³´ìœ  í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.', 'error');
                return;
            }

            const game = realGamesData.find(g => g.id === gameId);
            let teamName;
            if (betType === 'home') teamName = game.homeTeam;
            else if (betType === 'away') teamName = game.awayTeam;
            else teamName = 'ë¬´ìŠ¹ë¶€';

            gameState.userPoints -= amount;
            gameState.totalBets++;

            const bet = {
                id: Date.now(),
                gameId,
                sport: game.sport,
                match: `${game.homeTeam} vs ${game.awayTeam}`,
                prediction: teamName,
                amount,
                odds,
                expectedWin: Math.floor(amount * odds),
                status: 'pending',
                time: new Date().toLocaleString('ko-KR')
            };
            
            gameState.myBets.unshift(bet);
            saveGameState();

            setTimeout(() => simulateResult(bet.id), 3000 + Math.random() * 5000);

            updateUI();
            renderMyBets();
            closeBettingModal();
            
            showToast(`${teamName}ì— ${amount.toLocaleString()}P ë°°íŒ… ì™„ë£Œ!`, 'success');
        }

        function simulateResult(betId) {
            const bet = gameState.myBets.find(b => b.id === betId);
            if (!bet) return;

            const isWin = Math.random() < 0.6;
            
            if (isWin) {
                bet.status = 'won';
                gameState.userPoints += bet.expectedWin;
                gameState.wonBets++;
                gameState.totalProfit += (bet.expectedWin - bet.amount);
                showToast(`ğŸ‰ ${bet.prediction} ì˜ˆì¸¡ ì ì¤‘! +${bet.expectedWin.toLocaleString()}P`, 'success', 5000);
            } else {
                bet.status = 'lost';
                gameState.totalProfit -= bet.amount;
                showToast(`ğŸ˜” ${bet.prediction} ì˜ˆì¸¡ ì‹¤íŒ¨...`, 'error');
            }

            updateUserRank();
            saveGameState();
            updateUI();
            renderMyBets();
        }

        function updateUserRank() {
            const winRate = gameState.totalBets > 0 ? gameState.wonBets / gameState.totalBets : 0;
            
            if (winRate >= 0.7) gameState.userRank = 'ë‹¤ì´ì•„ëª¬ë“œ';
            else if (winRate >= 0.6) gameState.userRank = 'í”Œë˜í‹°ë„˜';
            else if (winRate >= 0.5) gameState.userRank = 'ê³¨ë“œ';
            else if (winRate >= 0.4) gameState.userRank = 'ì‹¤ë²„';
            else gameState.userRank = 'ë¸Œë¡ ì¦ˆ';
        }

        function renderMyBets() {
            const container = document.getElementById('myBets');
            
            if (gameState.myBets.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-4xl mb-4">ğŸ“‹</div>
                        <p class="text-gray-500">ì•„ì§ ì˜ˆì¸¡í•œ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p class="text-sm text-gray-400 mt-2">ì²« ë²ˆì§¸ ì˜ˆì¸¡ì„ ì‹œì‘í•´ë³´ì„¸ìš”!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = gameState.myBets.map(bet => `
                <article class="border rounded-lg p-4 ${bet.status === 'won' ? 'bg-green-50 border-green-200' : 
                                                   bet.status === 'lost' ? 'bg-red-50 border-red-200' : 
                                                   'bg-yellow-50 border-yellow-200'}">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-1">
                                <span class="text-sm font-medium text-blue-600">${bet.sport}</span>
                                <span class="px-2 py-1 rounded text-xs font-medium ${
                                    bet.status === 'won' ? 'bg-green-100 text-green-600' :
                                    bet.status === 'lost' ? 'bg-red-100 text-red-600' :
                                    'bg-yellow-100 text-yellow-600'
                                }">
                                    ${bet.status === 'won' ? 'âœ… ì ì¤‘' : bet.status === 'lost' ? 'âŒ ì‹¤íŒ¨' : 'â³ ì§„í–‰ì¤‘'}
                                </span>
                            </div>
                            <div class="font-medium text-gray-800">${bet.match}</div>
                            <div class="text-sm text-gray-600">ì˜ˆì¸¡: ${bet.prediction} (${bet.odds}ë°°)</div>
                            <div class="text-xs text-gray-500 mt-1">${bet.time}</div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold ${bet.status === 'won' ? 'text-green-600' : 
                                                   bet.status === 'lost' ? 'text-red-600' : 'text-gray-600'}">
                                ${bet.status === 'won' ? `+${bet.expectedWin.toLocaleString()}P` : 
                                  bet.status === 'lost' ? `-${bet.amount.toLocaleString()}P` : `${bet.amount.toLocaleString()}P`}
                            </div>
                        </div>
                    </div>
                </article>
            `).join('');
        }

        function updateUI() {
            document.getElementById('userPoints').textContent = `${gameState.userPoints.toLocaleString()}P`;
            document.getElementById('totalBets').textContent = gameState.totalBets;
            document.getElementById('wonBets').textContent = gameState.wonBets;
            document.getElementById('totalProfit').textContent = `${gameState.totalProfit >= 0 ? '+' : ''}${gameState.totalProfit.toLocaleString()}P`;
            document.getElementById('winRate').textContent = gameState.totalBets > 0 ? `${Math.round(gameState.wonBets / gameState.totalBets * 100)}%` : '0%';
            document.getElementById('userRank').textContent = gameState.userRank;
        }

        function refreshGames() {
            showToast('ê²½ê¸° ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì¤‘...', 'info');
            
            // Generate new sample data
            generateSampleData();
            renderLiveGames();
            renderUpcomingGames();
            
            const now = new Date().toLocaleTimeString('ko-KR');
            document.getElementById('lastUpdate').textContent = `ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${now}`;
            
            showToast('ê²½ê¸° ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        function shareGame() {
            const url = window.location.href;
            if (navigator.share) {
                navigator.share({
                    title: 'K-Sports ì˜ˆì¸¡ ê²Œì„',
                    text: 'í•œêµ­ ìŠ¤í¬ì¸  ì‹¤ì‹œê°„ ì˜ˆì¸¡ ê²Œì„ì— ì°¸ì—¬í•´ë³´ì„¸ìš”!',
                    url: url
                });
            } else {
                navigator.clipboard.writeText(url).then(() => {
                    showToast('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                });
            }
        }

        function exportBets() {
            if (gameState.myBets.length === 0) {
                showToast('ë‚´ë³´ë‚¼ ì˜ˆì¸¡ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.', 'warning');
                return;
            }

            const csvContent = [
                ['ë‚ ì§œ', 'ìŠ¤í¬ì¸ ', 'ê²½ê¸°', 'ì˜ˆì¸¡', 'ë°°ë‹¹ë¥ ', 'ë°°íŒ…ê¸ˆì•¡', 'ê²°ê³¼', 'ìˆ˜ìµ'],
                ...gameState.myBets.map(bet => [
                    bet.time,
                    bet.sport,
                    bet.match,
                    bet.prediction,
                    bet.odds,
                    bet.amount,
                    bet.status === 'won' ? 'ì ì¤‘' : bet.status === 'lost' ? 'ì‹¤íŒ¨' : 'ì§„í–‰ì¤‘',
                    bet.status === 'won' ? bet.expectedWin - bet.amount : bet.status === 'lost' ? -bet.amount : 0
                ])
            ].map(row => row.join(',')).join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `k-sports-betting-history-${new Date().toISOString().split('T')[0]}.csv`;
            link.click();
            
            showToast('ì˜ˆì¸¡ ë‚´ì—­ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('K-Sports ì˜ˆì¸¡ ê²Œì„ ì´ˆê¸°í™” ì¤‘...');
            
            loadGameState();
            generateSampleData();
            renderLiveGames();
            renderUpcomingGames();
            renderMyBets();
            updateUI();
            
            // Set up auto-refresh
            setInterval(refreshGames, 30000);
            setInterval(saveGameState, 60000);
            
            console.log('K-Sports ì˜ˆì¸¡ ê²Œì„ ì´ˆê¸°í™” ì™„ë£Œ!');
            showToast('ğŸ‰ GitHub Pages ë°°í¬ ì„±ê³µ! K-Sports ê²Œì„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!', 'success', 5000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96f9175f3373d1ea',t:'MTc1NTI2NTA5NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
